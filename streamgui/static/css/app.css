/*
Created: 2026-01-02
Author: @marcinmajsc
Repository: https://github.com/marcinmajsc/streamdelay-gui
*/

:root{
  --gap: 12px;
  --radius: 12px;
  --radiusPill: 999px;
  --shadow: 0 10px 24px rgba(0,0,0,.18);
  --footer-h: 64px;

  /* Light */
  --bg:#ffffff;
  --text:#111;
  --muted:#666;
  --border:#ddd;
  --border2:#e5e5e5;

  --boxbg:#fff;
  --codebg:#f6f6f6;

  --pillbg:#f6f6f6;
  --barbg:#f3f3f3;
  --barfg:#4a4a4a;

  --redbg:#fff5f5;
  --redbd:#d33;

  --ytset-bg:#e9ffe9;
  --ytset-bd:#2a8f2a;
  --ytset-tx:#0a6b0a;

  --link:#444;

  --btnbd:var(--border);
  --btnfill:#f8f8f8;
  --btnfill2:#ffffff;

  --focus:#7aa7ff;
  --note-icon:#b36b00;
}

html[data-theme="dark"]{
  --bg:#0b0f14;
  --text:#e9e9e9;
  --muted:#a7b0c0;
  --border:#263043;
  --border2:#1f2836;

  --boxbg:#0f1622;
  --codebg:#0a1220;

  --pillbg:#0d1626;
  --barbg:#0b1322;
  --barfg:#95a0b8;

  --redbg:rgba(220,70,70,.10);
  --redbd:rgba(220,90,90,.60);

  --ytset-bg:rgba(70,200,120,.14);
  --ytset-bd:rgba(70,200,120,.55);
  --ytset-tx:#86e6a5;

  --link:#cfe0ff;

  --btnbd:var(--border);
  --btnfill:rgba(255,255,255,.05);
  --btnfill2:rgba(255,255,255,.03);

  --focus:#9ec0ff;
  --note-icon:#ffd58a;
}

*{box-sizing:border-box}
html{height:100%}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  min-height:100svh;
  display:flex;
  flex-direction:column;
}

.wrap{
  width:100%;
  max-width:860px;
  margin:0 auto;
  padding:18px 14px calc(var(--footer-h) + 14px);
  flex:1;
}

:focus{outline:none}
:focus-visible{
  outline:2px solid var(--focus);
  outline-offset:3px;
  border-radius:10px;
}

.topbar{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  margin:10px 0 16px;
}

.brand{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:0;
}

.logo{
  width:36px;
  height:36px;
  flex:0 0 auto;
  display:block;
  border-radius:10px;
  background:var(--pillbg);
  border:1px solid var(--border2);
  padding:4px;
}

h1{
  margin:0;
  font-size:22px;
  line-height:1.15;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* Theme dropdown */
.dd{ position:relative; }

.ddBtn{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:8px 10px;
  font-size:13px;
  border-radius:var(--radiusPill);
  border:1px solid var(--border);
  background:var(--pillbg);
  color:var(--text);
  cursor:pointer;
  user-select:none;
  width: 164px;
  min-width: 150px;
}
.ddLeft{
  display:flex;
  align-items:center;
  gap:8px;
  min-width:0;
  overflow:hidden;
}
.ddTitle{font-weight:800;white-space:nowrap;flex:0 0 auto}
.ddState{
  color:var(--muted);
  font-weight:700;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  min-width:0;
}
.caret{ color:var(--muted); font-size:12px; line-height:1; flex:0 0 auto; }
.stateIcon{ width:16px;height:16px;flex:0 0 16px; color:var(--muted); }

.menu{
  position:absolute;
  left:0;
  bottom:42px; /* opens upward in footer */
  width: 240px;
  border:1px solid var(--border);
  background:var(--boxbg);
  border-radius:var(--radius);
  box-shadow: var(--shadow);
  padding:6px;
  display:none;
  z-index:2000;
}
.menu.open{display:block}

.item{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:10px 10px;
  border-radius:10px;
  cursor:pointer;
  color:var(--text);
}
.item:hover{background:var(--btnfill)}
.item b{font-size:13px}
.item span{font-size:12px;color:var(--muted)}
.check{ width:16px;height:16px;flex:0 0 16px; color:var(--text); opacity:0; }
.item.active .check{opacity:1}

.box{
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:14px;
  margin-bottom:14px;
  background:var(--boxbg);
}
.box.red{
  border-color:var(--redbd);
  background:
    linear-gradient(180deg, var(--redbg), transparent 85%),
    var(--boxbg);
}

.ok{color:#0a0} .bad{color:#a00} .warn{color:#b36b00}
html[data-theme="dark"] .ok{color:#86e6a5}
html[data-theme="dark"] .bad{color:#ff8d8d}
html[data-theme="dark"] .warn{color:#ffd58a}

.srow{display:flex;align-items:baseline;gap:10px;flex-wrap:wrap}
.srow + .srow{margin-top:8px}

.pwrap{
  width:100%;
  height:14px;
  border:1px solid var(--border);
  border-radius:var(--radiusPill);
  overflow:hidden;
  background:var(--barbg);
  margin-top:8px;
}
.pbar{
  height:100%;
  width:100%;
  transition: width .25s linear;
  background:var(--barfg);
}

.grid{
  display:grid;
  grid-template-columns: 1fr;
  gap: var(--gap);
  margin-top: 12px;
}

form{margin:0}

button, input{
  width:100%;
  padding:14px 16px;
  font-size:16px;
  border-radius:var(--radius);
  border:1px solid var(--btnbd);
  color:var(--text);
}

input{
  background:var(--btnfill2);
  -webkit-text-size-adjust: 100%;
}
input::placeholder{color:var(--muted)}
input[type="password"]{letter-spacing:.02em}

.grid button,
.primaryBtn{
  cursor:pointer;
  background:var(--btnfill);
}
.grid button:hover,
.primaryBtn:hover{filter:brightness(1.03)}

button[disabled]{opacity:.5;cursor:not-allowed}

.mini{font-size:13px;color:var(--muted);margin-top:6px}

.ythead{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
}

.ytpill{
  font-size:13px;
  padding:4px 10px;
  border:1px solid var(--border);
  border-radius:var(--radiusPill);
  background:var(--pillbg);
  opacity:.95;
  white-space:nowrap;
}
.ytpill.set{
  border-color:var(--ytset-bd);
  background:var(--ytset-bg);
  color:var(--ytset-tx);
  font-weight:800;
}
.ytpill.notset{
  border-color:var(--redbd);
  background:rgba(220,90,90,.12);
  color:var(--text);
  font-weight:800;
}

.obsHead{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
  margin-bottom:10px;
}
.obsTitle{font-weight:800;letter-spacing:.2px}
.copyBtn{
  width:auto;
  padding:8px 10px;
  font-size:13px;
  border-radius:10px;
  background:var(--btnfill);
  border:1px solid var(--btnbd);
  cursor:pointer;
  white-space:nowrap;
}
.copyBtn:active{transform: translateY(1px)}

.obsCode{
  display:block;
  width:100%;
  padding:10px 12px;
  border-radius:var(--radius);
  border:1px solid var(--border);
  background:var(--codebg);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
  font-size:13px;
  overflow:auto;
  word-break: break-word;
}

.obsHint{
  margin-top:10px;
  font-size:13px;
  color:var(--muted);
  line-height:1.45;
}
.obsNoteLine{
  margin-top:8px;
  display:flex;
  gap:8px;
  align-items:flex-start;
  color:var(--muted);
}
.noteIcon{
  color:var(--note-icon);
  flex:0 0 auto;
  margin-top:1px;
}
.noteText strong{color:var(--text);font-weight:900}

footer{
  position:fixed;
  left:0; right:0; bottom:0;
  padding:12px 14px 10px;
  border-top:1px solid var(--border2);
  font-size:13px;
  color:var(--muted);
  background: linear-gradient(180deg, rgba(0,0,0,0), var(--bg) 35%);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  z-index: 999;
}
.footerInner{
  max-width:860px;
  margin:0 auto;
  width:100%;
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
  gap:10px;
}
.footerLeft{display:flex;align-items:center;gap:10px}
.footerRight{display:flex;align-items:center;gap:10px}

footer a{
  color:var(--link);
  text-decoration:none;
  font-weight:700;
  display:inline-flex;
  align-items:center;
  gap:8px;
}
footer a:hover{text-decoration:underline}

@media (min-width: 720px){
  .wrap{padding-top:32px}
  .grid{grid-template-columns: 1fr 1fr}
  .gridfull{grid-column: 1 / -1;}
  :root{ --footer-h: 56px; }
  h1{font-size:24px}
  .logo{width:40px;height:40px}
  .obsCode{font-size:14px}
  .menu{bottom:44px}
}

@media (prefers-reduced-motion: reduce){
  .pbar{transition:none}
  .copyBtn:active{transform:none}
}

.srOnly{
  position:absolute !important;
  width:1px;height:1px;
  padding:0;margin:-1px;
  overflow:hidden;clip:rect(0,0,0,0);
  white-space:nowrap;border:0;
}
